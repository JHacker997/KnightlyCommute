<!DOCTYPE html>
<html>
  <head>
    <title>Knightly Commute</title>
    <script src="https://threejs.org/build/three.js"></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
    <script src='https://threejs.org/examples/js/libs/dat.gui.min.js'></script>
    <script src= "https://threejs.org/examples/js/loaders/OBJLoader.js"> </script>
    <script src= "https://threejs.org/examples/js/loaders/MTLLoader.js"> </script>


    <script>
       // Add your own Javascript code/methods here.
      function mainFunction()
      {
        let renderer = new THREE.WebGLRenderer( { antialias: true } );//let renderer = new THREE.WebGLRenderer();
        renderer.setSize( window.innerWidth, window.innerHeight );
        renderer.setPixelRatio( window.devicePixelRatio );
        renderer.setClearColor (0x888888, 1);
        document.body.appendChild( renderer.domElement );

        let scene = new THREE.Scene();

        let aspect = window.innerWidth / window.innerHeight;
        let camera = new THREE.PerspectiveCamera( 50, aspect, 1, 1000 );
        camera.position.y = 70;
        camera.position.z = 5;
        scene.add(camera);

        let light = new THREE.PointLight(0xffffff, 1, 100);
        light.position.set(0, 50, 1);
        scene.add(light);

        let render = function ()
        {
          renderer.render( scene, camera );
        };

        let cameraControls = new THREE.OrbitControls( camera, renderer.domElement  );
        cameraControls.addEventListener("change", render, false);

        let mat = new THREE.MeshPhongMaterial({color: 0x2194ce})

        // once material is read initiate the obj Loading
        let objLoader = new THREE.OBJLoader();
        let table;
        // load a resource
        objLoader.load('table.obj' ,function(object)
        {
          object.position.x = 10;
          object.material = mat;
          table = object;
          scene.add( object );
          render(); // may be make a call to your render function
        })

        let texture = THREE.ImageUtils.loadTexture( "map.png" );
        let material = new THREE.MeshLambertMaterial({ map : texture });
        let plane = new THREE.Mesh(new THREE.PlaneGeometry(23.2, 30), material);
        plane.rotation.x = Math.PI / 2;
        plane.rotation.z = Math.PI;
        plane.rotation.y = Math.PI;
        scene.add(plane);
        plane.position.set(0, 32, 0);

        render();

        let resize = function ()
        {
          renderer.setSize(window.innerWidth, window.innerHeight);
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          render();
        };

        window.addEventListener("resize",resize, false)
      }
    </script>
  </head>
  <body onload="mainFunction();">
  <h1>John Hacker ID=jo486831</h1>
  </body>
</html>
